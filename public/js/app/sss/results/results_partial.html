<!--
<div ng-repeat>
    <link>Repository Name</link><expand-graphic/>
    <div>Repository Description</div>
    <div ng-repeat>
        <link>Matched FileName</link><expand-graphic/>
        <div ng-repeat>
            <div>Matched Fragments</div>
        </div>
    </div>
</div>
-->
<div data-ng-repeat="item in $searchService.searchResults.items.slice((($searchService.pagination.currentPage-1)*$searchService.pagination.itemsPerPage), (($searchService.pagination.currentPage)*$searchService.pagination.itemsPerPage))"
     show-more-directive>
    <h2><a ui-sref="search.results.overview({ snippetId: '{{item.repository.name}}'})">{{item.repository.name}}</a></h2>

    <div class="row">
        <div class="col-md-9">
            <div data-ng-repeat="text_match in item.text_matches.slice((($searchService.pagination.currentPage-1)*$searchService.pagination.itemsPerPage), (($searchService.pagination.currentPage)*$searchService.pagination.itemsPerPage))"
                 show-more-directive>
                <div class="row">
                    <div class="col-md-12">
                        <article>
                            <div data-ng-repeat="match in text_match.matches">
                                <div ng-bind-html="$searchService.trustHtmlSnippet(match.highlit_fragment)"></div>
                            </div>
                        </article>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-3">
            <article>
                <uib-rating ng-model="item.score" max="max" readonly="isReadonly"
                            on-hover="hoveringOver(value)" on-leave="overStar = null"
                            titles="['one','two','three']"></uib-rating>
                <span class="label"
                      ng-class="{'label-warning': percent<30, 'label-info': percent>=30 && percent<70, 'label-success': percent>=70}"
                      ng-show="overStar && !isReadonly">{{percent}}%</span>
                <div>Score: {{item.score}}</div>
                <div>Last updated (last commit date)</div>
                <div>nnnn views (track in Mongo)</div>
                <div>Posted on (initial commit date)</div>
                <div>Posted by (track in Mongo)</div>
                <br/><br/><br/>
            </article>
        </div>
    </div>
</div>
